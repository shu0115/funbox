- # 作成者用プレイリストページ

- title [Settings.app_name, @playlist.name]
- description @playlist.tracks.first.try(:description)
- keywords @playlist.tracks.pluck(:title)
- set_meta_tags og: { title: [Settings.app_name, @playlist.name].join(' | '), description: @playlist.tracks.first.try(:description), url: request.url, image: @playlist.tracks.first.try(:thumbnail_url) }

- # プレイリスト情報エリア
.container{ style: 'width: 900px'}
  %h2= link_to @playlist.name, playlist_path(@playlist)

  %h4
    Selected by
    = @playlist.user.try(:name)

    - if @playlist.playlist_id.present?
      = ", From"
      = link_to @playlist.playlist.name, user_playlist_path(@playlist.playlist.user_id, @playlist.playlist_id)

    = ','
    = link_to (image_tag 'amazon.png', width: 63, height: 18), "http://www.amazon.co.jp/s/ref=nb_sb_noss?__mk_ja_JP=カタカナ&url=search-alias%3Daps&field-keywords=#{@playlist.name}&at=#{Settings.amazon_affiliate_id}", target: '_blank'

- # 動画再生エリア
.container{ style: 'width: 1000px; padding: 0 0 0 0;'}
  - # Play All
  #tracks
    = render partial: '/playlists/tracks', locals: { playlist: @playlist, tracks: @tracks, unique_ids: Track.unique_ids(@tracks, shuffle: params[:shuffle]) }
%br
%br

- # Youtube検索
.container{ style: 'width: 700px;' }
  - # 検索フォーム
  = form_tag search_playlist_path(id: @playlist.id, word: @word), method: :get, remote: :true, data: { update_target: 'search_result_area' } do
    = text_field_tag :word, @word, { class: 'form-control', style: 'width: 550px; float: left' }
    = submit_tag 'Search', data: { disable_with: 'Search' }, onclick: "$('#search_result_list').empty(); $('#search_result_area_loading').show(); window.history.pushState(null, null, '#{playlist_path(@playlist, search: true)}');", class: 'btn btn-primary left_margin_10'

%br

- # Youtube検索結果表示エリア
.container{ style: 'width: 700px;'}
  - # 検索結果
  #search_result_area
    = render partial: '/playlists/search_result', locals: { videos: @videos, playlist: @playlist, word: @word }
